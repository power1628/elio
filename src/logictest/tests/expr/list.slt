# Test create_list expression

# Basic list creation with integers
query A
return [1, 2, 3]
----
[1, 2, 3]

# Empty list
query A
return []
----
[]

# List with single element
query A
return [42]
----
[42]

# List with strings
query A
return ['a', 'b', 'c']
----
['a', 'b', 'c']

# List with floats
query A
return [1.5, 2.5, 3.5]
----
[1.5, 2.5, 3.5]

# List with booleans
query A
return [true, false, true]
----
[true, false, true]

# List with null element
query A
return [1, null, 3]
----
[1, null, 3]

# List with all nulls
query A
return [null, null]
----
[null, null]

# Nested expressions in list
query A
return [1 + 1, 2 * 3, 10 - 5]
----
[2, 6, 5]

# List with string concatenation
query A
return ['hello' + ' ' + 'world']
----
['hello world']

# List in MATCH context
query A
CREATE (a:Person{name: 'Alex', age: 30})
----
{id: 1, labels: [Person], props: {name: 'Alex', age: 30}}

query A
MATCH (n:Person) RETURN [n.name, n.age]
----
['Alex', 30]

# =====================
# Test list_index (list[index])
# =====================

# Basic list index - first element
query A
return [1, 2, 3][0]
----
1

# Basic list index - last element
query A
return [1, 2, 3][2]
----
3

# Negative index - last element
query A
return [1, 2, 3][-1]
----
3

# Negative index - first element
query A
return [1, 2, 3][-3]
----
1

# String list index
query A
return ['a', 'b', 'c'][1]
----
'b'

# Out of bounds returns null
query A
return [1, 2, 3][10]
----
null

# Negative out of bounds returns null
query A
return [1, 2, 3][-10]
----
null

# =====================
# Test list_slice (list[start..end])
# =====================

# Basic slice
query A
return [1, 2, 3, 4, 5][1..3]
----
[2, 3]

# Slice from start
query A
return [1, 2, 3, 4, 5][..3]
----
[1, 2, 3]

# Slice to end
query A
return [1, 2, 3, 4, 5][2..]
----
[3, 4, 5]

# Full slice
query A
return [1, 2, 3][..]
----
[1, 2, 3]

# Empty slice (start >= end)
query A
return [1, 2, 3][2..1]
----
[]

# Negative indices in slice
query A
return [1, 2, 3, 4, 5][-3..-1]
----
[3, 4]

# Slice with negative start
query A
return [1, 2, 3, 4, 5][-2..]
----
[4, 5]

# Slice with negative end
query A
return [1, 2, 3, 4, 5][..-2]
----
[1, 2, 3]

